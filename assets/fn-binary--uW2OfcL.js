var o=Object.defineProperty;var c=(s,e,t)=>e in s?o(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var i=(s,e,t)=>(c(s,typeof e!="symbol"?e+"":e,t),t);const n="fn-binary";class l extends HTMLElement{constructor(){super();i(this,"playing");i(this,"current",0);i(this,"binary",[]);i(this,"intersectionObserver",new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting?this.play():this.stop()})}));i(this,"mutationObserver",new MutationObserver(t=>{t.forEach(r=>{if(r.type==="childList"&&r.target===this){const h=this.textContent.trim();this.binary=h.split("").map(a=>a.charCodeAt(0).toString(2).padStart(8,"0"))}})}));this.attachShadow({mode:"open"})}connectedCallback(){this.mutationObserver.observe(this,{childList:!0,subtree:!0}),this.intersectionObserver.observe(this),this.addEventListener("mouseenter",this.stop),this.addEventListener("mouseleave",this.play)}disconnectedCallback(){this.stop(),this.mutationObserver.disconnect(),this.intersectionObserver.unobserve(this),this.removeEventListener("mouseenter",this.stop),this.removeEventListener("mouseleave",this.play)}play(){if(this.playing)return;const t=this.binary.length-1;this.render(this.binary[this.current]),this.playing=setInterval(()=>{this.current===t?this.current=0:this.current+=1,this.render(this.binary[this.current])},2e3)}stop(){clearInterval(this.playing),this.playing=void 0}render(t){t&&(this.shadowRoot.innerHTML=t)}}customElements.get(n)||customElements.define(n,l);
